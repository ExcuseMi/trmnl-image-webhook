services:
  trmnl-image-webhook:
    # Use published image from GitHub Container Registry
    # To use a specific version, change 'latest' to a version tag like '1.0.0'
    image: ghcr.io/excusemi/trmnl-image-webhook:1.0.1

    # Or build locally (comment out 'image' above and uncomment below)
    # build: .

    container_name: trmnl-image-webhook
    restart: unless-stopped

    # Load environment variables from .env file
    env_file:
      - .env

    volumes:
      # Mount your images directory (REQUIRED)
      # Set IMAGES_PATH in .env to point to your images folder
      # The :z flag enables SELinux support (Fedora/RHEL/CentOS)
      - ${IMAGES_PATH:-./images}:/images:ro,z

      # State storage for sequential/shuffle modes
      - ./data:/data:z